{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Update Comment" %} | {% endblock%}

{% block layout %}
<div class="edit-container w-full max-w-xl mx-auto my-8 p-6 bg-white rounded-xl shadow"
     x-data="{ isSaving: false }">
    <h2 class="post-title mb-3">{% trans "Edit Your Comment" %}</h2>
    <hr>
    <form method="post" action="{% url 'update_comment' comment.pk %}" @submit="isSaving = true">
        {% csrf_token %}
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-2">{% trans "Join the discussion" %}</label>
            <textarea name="text" rows="3" required
                      class="w-full px-4 py-3 rounded-xl border-gray-200 focus:border-indigo-500 focus:ring-indigo-500 text-gray-700 shadow-sm transition-all"
                      placeholder="{% translate 'Write a respectful comment...' %}">{{ comment.text }}</textarea>
        </div>

        <p style="color: #856404; background-color: #fff3cd; padding: 10px; border-radius: 16px;">
            <strong class="mr-1">{% trans "Note:" %}</strong> {% trans "Your comment will be hidden until an admin approves it again." %}
        </p>

        <button type="submit" x-show="!isSaving" class="my-4 btn-primary">
            <span >{% trans "Update Comment" %}</span>
        </button>
        <button type="submit" x-show="isSaving" class="my-4 btn-disable" disabled>
            <span x-show="isSaving">{% trans "Updating ..." %}</span>
        </button>
        <a href="javascript:history.back()" style="margin-left: 15px; text-decoration: none; color: #666;">{% trans "Cancel" %}</a>
    </form>
</div>

{% endblock %}