{% extends 'layouts/a.html' %}

{% load static %}

{% block content %}
    {% include 'posts/post.html' %}

    <div class="card !pb-0 -mt-3">
        <form method="POST" class="flex items-center p-4" autocomplete="off">
            <input type="text" name="comment" placeholder="Add comment ..." maxlength="150">
            <button @click="open = false" class="block ml-2" type="submit">Submit</button>
        </form>
    </div>

    <div class="mb-20" x-data="{ activeTab: 'newest' }">
        <div id="tabs" class="ml-4 flex gap-2 mb-4" >
            <a class="tab" :class="{selected : activeTab === 'newest'}"  @click="activeTab = 'newest' ">Newest First</a>
            <a class="tab" :class="{selected : activeTab === 'topComments'}" @click="activeTab = 'topComments'">Top Comments</a>
        </div>

        <div class="tab-contents max-w-sm md:max-w-xl" x-show="activeTab === 'newest'" x-transition>
            {% for comment in post.approved_comments_list %}
                {% include 'posts/comment.html' %}
            {% endfor %}

        </div>

        <div class="tab-contents" x-show="activeTab === 'topComments'" x-transition></div>
    </div>

{% endblock %}